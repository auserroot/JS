<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>五星评分</title>
<style type="text/css">
#ul1{padding:0; margin:0; list-style:none;  width:300px; height:28px;}
#ul1 li{float:left; background:url(star.gif) no-repeat 0 0; width:27px; height:28px; }

</style>

</head>

<body>
<ul id="ul1" >
<li class="default"> </li>
<li class="default"> </li>
<li class="default"> </li>
<li class="default"> </li>
<li class="default"> </li>
</ul>
<div id="div"></div>

<script>
    // 获取元素
    var getli = document.querySelectorAll('.default')
    var div = document.querySelector('#div')
        // 添加委托事件
        for (var i = 0; i < getli.length; i++) {
            // 记录索引
            getli[i].index = i
            // console.log(getli[i].index)
            // 添加鼠标经过事件
            ul1.onmouseover = function(e) {
                e=e||window.event
                var target = e.target||e.sreElenent
                // 判断子节点
                if(target.className=='default'){
                    //  循环选中目标更改背景样式
                     for(var j=0;j<=target.index;j++){
                        getli[j].style.backgroundPositionY = '-'+27+'px'
                        // 给div添加文字
                        switch(target.index){
                        case 0 : div.innerHTML = '一星分期好评'
                        break
                        case 1 : div.innerHTML = '有点差'
                        break
                        case 2 : div.innerHTML = '有待提高'
                        break
                        case 3 : div.innerHTML = '还行'
                        break
                        case 4 : div.innerHTML = '很好'
                        break
                        default : div.innerHTML = ''
                        break
                        }
                        
                     }
                }
            }
            // 添加鼠标移出事件
            ul1.onmouseout = function(e) {
                e=e||window.event
                var target = e.target||e.sreElenent
                if(target.className=='default'){
                    // 循环清空背景样式
                    for(var j=0;j<getli.length;j++){
                        getli[j].style.backgroundPositionY = 0+'px'
                        //若未选中任何子元素清空div
                        if(target.index-1==-1){
                            div.innerHTML=""
                        }
                     }
                     for(var j=0;j<=target.index;j++){
                        getli[j].style.backgroundPositionY = '-'+27+'px'
                         //若未选中任何子元素清空子元素样式
                        if(target.index-1==-1){
                            getli[j].style.backgroundPositionY = 0+'px'
                        }
                     }
                }
            }

            // 添加鼠标点击事件（选中
            ul1.onclick = function(e) {
                e=e||window.event
                var target = e.target||e.sreElenent
                if(target.className=='default'){
                    for(var k=0;k<=target.index;k++){
                        getli[k].style.backgroundPositionY = '-'+27+'px'
                     }
                }
            }

            // 添加鼠标双击事件（取消
            ul1.ondblclick = function(e) {
                e=e||window.event
                var target = e.target||e.sreElenent
                if(target.className=='default'){
                target.style.backgroundPositionY = 0+'px'
                }
            }
        }
</script>
</body>
</html>
