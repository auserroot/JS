<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /* 
            ES5和ES6
                ==> ECMAScript是 js的语法
                ==> 在es5里面新增了一些功能
                ==> 在es6里面新增了一些功能
                ==> 因为浏览器是浏览器厂商生产的
                ==> ECMAScript除了新功能以后，浏览器厂商要支持这些功能，需要时间，所有到现年，基本上大部分浏览器都可以比较完善的支持
            ES5增加的数组的常用方法
                ==> forEach
                    ==> 语法: arr.forEach(callback[,thisArg])
                        -->数组里面有几个元素，callback就执行几次
                        -->callback里面有三个形参，第一个是遍历到的数组元素，第二个是遍历到的数组元素索引，第三个是数组本身
                        -->thisArg是callback里面this的指向，可选参数
                ==> map
                    ==>类似forEach
                    ==>返回值是一个新数组
                ==> filter
                    ==>类似forEach
                    ==>返回值是一个新数组
                ==> reduce
                    ==>语法:arr.reduce(callback[,initValue]);
                        --> callback里面有2个形参,第一个形参是上次callback的返回值，第二个参数是当前遍历到的元素
                        --> initValue:第一次执行函数的初始值，如果没有，默认是数组的第0项
                        
        */

        var arr = [1,3,5,7,9]
        // forEach
        arr.forEach(function(item,index,array){
            console.log('====')
            console.log('本次循环到的是'+item+'他的索引是'+index);
            console.log(array);
            console.log(this);//this本来是window，但是通过参数把此处的this变成了body标签
        },document.body)

        // map
        var newArr = arr.map(function(item){
            return item*2;
        })
        console.log(newArr)

        // filter
        var newArr2 = arr.filter(function(item){
            if(item>5){
                return true;
            }else{
                return false;
            }
        })
        console.log(newArr2)

        // reduce
        var array1 = [1, 2, 3, 4];
        
        var result = array1.reduce(function(accumulator, currentValue) {
            // 数组里面有多少个元素，函数就执行几次
            // 第一个参数:上次的返回值
            // 第二个参数：本次遍历到的元素
            return accumulator + currentValue
        });//由于最开始的一次遍历是没有上一次的返回值的，可以指定一个初始值

        // 遍历到array1[0] : accumulator=0 currentValue = 1
        // 遍历到array1[1] : accumulator=1 currentValue = 2
        // 遍历到array1[2] : accumulator=3 currentValue = 3
        // 遍历到array1[3] : accumulator=6 currentValue = 4
        // 把最后一次的函数返回值作为reduce函数的返回值
        console.log(result)
    </script>
</body>
</html>